<MainScreenManager>:
    MDScreen:
        name: "login"
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color:51/255,153/255,255/255,1
            spacing: '10 dp'
            MDCard:
                md_bg_color:51/255,153/255,255/255,1
                size_hint: 1, .18
            MDCard:
                size_hint: 0.8, 0.6
                size: 600, 800
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                elevation: 10
                padding: 25
                spacing: 25
                orientation: 'vertical'

                MDLabel
                    text: "Fit Chat"
                    font_size: 72
                    halign: 'center'
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 25

                MDTextField:
                    id: email
                    hint_text: "Enter email"
                    help_text_mode: "on_focus"
                    pos_hint: {'center_x':0.5, 'center_y': 0.9}
                    size_hint_x: None
                    icon_right: "account"
                    size_hint_x: .8
                    width: 400

                MDTextField:
                    id: password
                    hint_text: "Enter password"
                    icon_right: "eye-off"
                    multiline: True
                    help_text_mode: "on_focus"
                    pos_hint: {'center_x':0.5, 'center_y': 0.7}
                    size_hint_x: None
                    password: True
                    size_hint_x: .8
                    width: 400

                MDRectangleFlatButton:
                    text: 'Submit Login Information'
                    pos_hint: {'center_x':0.5, 'center_y': 0.3}
                    on_press: app.get_data()
                    width: 200
                    height: 100
                    background_color: 51/255,153/255,255/255,1

                MDRectangleFlatButton:
                    text: 'Create New Account'
                    pos_hint: {'center_x':0.5, 'center_y': 0.25}
                    on_press: app.loginScreen()
                    width: 200
                    height: 100
                    background_color: 51/255,153/255,255/255,1

                MDLabel:
                    id: login_message
                    text:
                    font: 20
                    halign: "center"
                    pos_hint: {'center_x':0.5, 'center_y': 0.3}

                MDRectangleFlatButton:
                    text: "FitChat Privacy Policy"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.275}
                    on_press: app.privacy_policy()

            MDCard:
                size_hint: 1, .18
                md_bg_color:51/255,153/255,255/255,1


    MDScreen:
        name: "homepage"
        BoxLayout:
            orientation: 'vertical'

            MDBottomAppBar:
                title: "Bottom Navbar"
            MDBottomNavigation:
                #colors

                MDBottomNavigationItem:
                    name: "screen 1"
                    text: "Profile"
                    icon: 'account'
                    MDScreen:
                        name: "profile"
                        MDBoxLayout:
                            md_bg_color:51/255,153/255,255/255,1
                            orientation: 'vertical'
                            spacing: '5dp'
                            padding: '5dp'

                            MDCard:
                                size_hint: 1, .1
                                md_bg_color:51/255,153/255,255/255,1

                            MDCard:
                                spacing: '2dp'
                                size_hint: 1, .50
                                md_bg_color: 0, 0.5, 0.8, 1
                                MDCard:
                                    size_hint: .55, 1
                                    MDFloatLayout:
                                        orientation: 'vertical'
                                        md_bg_color: 1, 1, 1, 1
                                        MDLabel:
                                            pos_hint: {"center_x": 0.5, "center_y": 0.75}
                                            text: "Fit Chat"
                                            halign: 'center'
                                            font_style: "H3"
                                        MDLabel:
                                            id: name
                                            pos_hint: {"center_x": 0.5, "center_y": 0.60}
                                            halign: 'center'
                                            text:"No Name Set"
                                            font_style: "H5"
                                MDCard:
                                    size_hint: .45, 1
                                    md_bg_color: 1, 1, 1, 1
                                    height: 25
                                    Image:
                                        id: profile_picture
                                        source: "fitChatAvatars/defaultAvatar.png"

                            MDCard:
                                orientation: 'vertical'
                                md_bg_color: 1, 1, 1, 1
                                MDLabel:
                                    size_hint: 1, .25
                                    pos_hint: {"center_x": .5, "center_y": .55}
                                    text: "Biography"
                                    halign: 'center'
                                    font_style: "H4"
                                    theme_text_color: "Custom"
                                    text_color: 63/255, 63/255, 191/255, 1
                                MDLabel:
                                    id: biography
                                    size_hint: 1, .75
                                    pos_hint: {"center_x": .5, "center_y": .85}
                                    text: ''
                                    font_style: "H5"
                                    theme_text_color: "Custom"
                                    text_color: 63/255, 63/255, 191/255, 1

                                MDLabel:
                                    id: sport_label
                                    size_hint: 1, .75
                                    pos_hint: {"center_x": .5, "center_y": .9}
                                    text: ''
                                    font_style: "H5"
                                    theme_text_color: "Custom"
                                    text_color: 63/255, 63/255, 191/255, 1


                MDBottomNavigationItem:
                    name: "screen 2"
                    text: "Chat Room"
                    icon: 'account-multiple-plus'
                    MDScreen:
                        MDBoxLayout:
                            orientation: 'vertical'
                            MDLabel:
                                halign: 'center'
                                text: "Choose a Chatroom"
                                size_hint: 1, .2
                            ScrollView:
                                MDBoxLayout:
                                    id: chatRooms
                                    orientation: 'vertical'
                                    size_hint: 1, .8

                MDBottomNavigationItem:
                    name: "screen 3"
                    text: "Settings"
                    icon: 'account-cog'
                    MDScreen:
                        MDBoxLayout:
                            orientation: 'vertical'
                            spacing: '10dp'
                            MDTextField:
                                id: change_name
                                hint_text: "Enter Full Name"
                                help_text_mode: "on_focus"
                                pos_hint: {'center_x':0.5}
                                size_hint: .8, .04

                            MDTextField:
                                id: change_bio
                                hint_text: "Describe Yourself in a Biography"
                                multiline: True
                                help_text_mode: "on_focus"
                                pos_hint: {'center_x':0.5}
                                size_hint: .8, .10

                            MDRectangleFlatButton:
                                text: 'Take a Picture'
                                pos_hint: {'center_x':0.5}
                                on_press: app.cameraScreen()
                                size_hint: .3,.01
                                background_color: 51/255,153/255,255/255,1

                            MDRectangleFlatButton:
                                text: 'Change Avatar'
                                pos_hint: {'center_x':0.5}
                                on_press: app.change_avatar()
                                size_hint: .3,.01
                                background_color: 51/255,153/255,255/255,1

                            MDLabel:
                                id: change_text
                                text: ''
                                pos_hint: {'center_x':0.5}
                                size_hint: .3,.03

                            MDRectangleFlatButton:
                                text: 'Submit Profile'
                                pos_hint: {'center_x':0.5}
                                on_press: app.change_data()
                                size_hint: .3,.01
                                background_color: 51/255,153/255,255/255,1
                            MDLabel:
                                size_hint: 1, .05
                                text: ''

                MDBottomNavigationItem:
                    name: "screen 4 "
                    text: "Interests"
                    icon: 'account-cog'
                    MDScreen:
                        MDLabel:
                            text: "Select roles that intersts you and press submit"
                            pos_hint: {"center_x": .55, "center_y": .93}
                            theme_text_color: "Custom"
                            text_color: 63/255, 63/255, 191/255, 1
                            font_size:32
                        FloatLayout:
                            MDLabel:
                                text: "Track"
                                font_size:20
                                bold: True
                                pos_hint: {"center_x": .55, "center_y": .8}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .4, 'center_y': .8}
                                on_active: app.check(self, self.active, "Track")
                            MDLabel:
                                text: "Soccer"
                                font_size:20
                                bold: True
                                pos_hint: {"center_x": .55, "center_y": .7}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .4, 'center_y': .7}
                                on_active: app.check(self, self.active, "Soccer")
                            MDLabel:
                                text: "Basketball"
                                font_size:20    
                                bold: True
                                pos_hint: {"center_x": .55, "center_y": .6}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .4, 'center_y': .6}
                                on_active: app.check(self, self.active, "Basketball")
                            MDLabel:
                                text: "Hiking"
                                font_size:20
                                bold: True
                                pos_hint: {"center_x": .55, "center_y": .5}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .4, 'center_y': .5}
                                on_active: app.check(self, self.active, "Hiking")
                            MDLabel:
                                text: "Baseball"
                                font_size:20
                                bold: True
                                pos_hint: {"center_x": .55, "center_y": .4}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .4, 'center_y': .4}
                                on_active: app.check(self, self.active, "Baseball")
                            MDLabel:
                                text: "Football"
                                font_size:20
                                bold: True
                                pos_hint: {"center_x": .99, "center_y": .6}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .85, 'center_y': .6}
                                on_active: app.check(self, self.active, "Football")
                            MDLabel:
                                text: "Volleyball"
                                font_size:20
                                bold: True
                                pos_hint: {"center_x": .99, "center_y": .7}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .85, 'center_y': .7}
                                on_active: app.check(self, self.active, "Volleyball")
                            MDLabel:
                                text: "Golf"
                                font_size:20
                                bold: True
                                pos_hint: {"center_x": .99, "center_y": .8}
                                theme_text_color: "Custom"
                                text_color: 63/255, 63/255, 191/255, 1
                            MDCheckbox:
                                size_hint: None, None
                                size: "48dp", "48dp"
                                pos_hint: {'center_x': .85, 'center_y': .8}
                                on_active: app.check(self, self.active, "Golf")
                        MDRectangleFlatButton:
                            text: 'Submit Sport(s)'
                            pos_hint: {'center_x':0.5, 'center_y': 0.1}
                            on_press: app.changeSports()
                            size_hint: .3,.05
                            background_color: 51/255,153/255,255/255,1
                        MDLabel:
                            pos_hint: {'center_x':0.5, 'center_y': 0.3}
                            text: "You selected: "
                        MDLabel:
                            pos_hint: {'center_x':0.5, 'center_y': 0.2}
                            id: sports_label
                            text: ""
                MDBottomNavigationItem:
                    name: "screen 5"
                    id: friendpage
                    text: "Friends"
                    icon: 'account-cog'
                    MDScreen:
                        MDBoxLayout:
                            orientation: 'vertical'
                            MDRectangleFlatButton:
                                size_hint: 1, .1
		                        text: 'Show Friends'
		                        on_press: app.showFriendList()
		                    ScrollView:
		                        size_hint: 1, .8
		                        MDBoxLayout:
		                            orientation: 'vertical'
		                            id: friendList

                            MDBoxLayout:
                                size_hint: 1, .1
                                orientation: 'horizontal'
                                MDRectangleFlatButton:
                                    on_press: app.profileListScreen()
                                    text: "Add friends"
                                MDRectangleFlatButton:
                                    on_press: app.friendRequestScreen()
                                    text: "Friend Requests"
                                MDRectangleFlatButton:
                                    on_press: app.friendRemoveScreen()
                                    text: "Remove Friends"
                MDBottomNavigationItem:
                    name: "screen 6"
                    id: mapview
                    text: "Map"
                    icon: 'account-cog'
                    MDScreen:
                        MDBoxLayout:
                            orientation: 'vertical'
                            MapView:
                                id: main_map
                                lat: 39.952583
                                lon: -75.165222
                                zoom: 17
                                double_tap_zoom: True
                            MDTextField:
                                id: latitude
                                hint_text: "Latitude"
                                helper_text: "Enter a valid latitude"
                                helper_text_mode: "persistent"
                            MDTextField:
                                id: longitude
                                hint_text: "Longitude"
                                helper_text: "Enter a valid longitude"
                                helper_text_mode: "persistent"
                            MDRectangleFlatButton:
                                text: 'Submit Location'
                                pos_hint: {'center_x':0.5, 'center_y': 0.1}
                                on_press: app.update_map_center()
                                size_hint: .3,.05
                                background_color: 51/255,153/255,255/255,1

    MDScreen:
        name: "change_avatar"
        ScrollView:
            GridLayout:
                cols: 3
                id: avatar_grid
                size_hint_y: None
                height: self.minimum_height
                row_default_height: "100dp"
                row_force_default: True
                spacing: 20, 20
                padding: 20, 20

    MDScreen:
        name: 'createAccount'
        MDBoxLayout:
            orientation: 'vertical'
            spacing: '10dp'
            MDRectangleFlatButton:
                text: "Go back"
                pos_hint: {'center_x':0.1}
                size_hint: .25, .01
                on_press: app.backToLoginScreen()

            MDTextField:
                id: newName
                hint_text: "Enter Full Name"
                help_text_mode: "on_focus"
                pos_hint: {'center_x':0.5}
                size_hint: .8, .03

            MDTextField:
                id: newEmail
                hint_text: "Enter Email"
                help_text_mode: "on_focus"
                pos_hint: {'center_x':0.5, 'center_y': 0.8}
                size_hint: .8, .03

            MDTextField:
                id: newPassword
                hint_text: "Enter Password"
                password: True
                help_text_mode: "on_focus"
                pos_hint: {'center_x':0.5}
                size_hint: .8, .03

            MDTextField:
                id: newBio
                hint_text: "Describe Yourself in a Biography"
                multiline: True
                help_text_mode: "on_focus"
                pos_hint: {'center_x':0.5}
                text_size: root.width, None
                size_hint: .8, .08

            MDRectangleFlatButton:
                text: 'Avatar'
                pos_hint: {'center_x':0.5}
                on_press: app.change_avatar()
                size_hint: .5, .02
                background_color: 51/255,153/255,255/255,1

            MDLabel:
                id: change_text
                text: ''
                pos_hint: {'center_x':0.5}
                size_hint: .8, .05

            MDRectangleFlatButton:
                text: 'Submit Account Information'
                pos_hint: {'center_x':0.5}
                on_press: app.createAccount()
                size_hint: .5, .02
                background_color: 51/255,153/255,255/255,1

            MDLabel:
                text: ''
                size_hint: 1, .01

    MDScreen:
        name: 'profileList'
        MDBoxLayout:
            orientation: 'vertical'
            MDRectangleFlatButton:
                size_hint: 1.1, .1
                text: 'Show Recommended'
                on_press: app.showRecommended()
            MDRectangleFlatButton:
                size_hint: 1, .1
                text: 'Show Users'
                on_press: app.createProfileList()

            ScrollView:
                size_hint: 1, .8
                MDBoxLayout:
                    orientation: 'vertical'
                    id: profileListing
                    height: self.minimum_height

            MDTextField:
                id: friendrequest
                hint_text: "Friend Email"
                help_text_mode: "on_focus"
                size_hint: 1, .1
                mode: "rectangle"
                width: 300
                halign: 'center'
                valign: 'center'
            MDRectangleFlatButton:
                on_press: app.add('friendrequest')
                text: 'Add Friend'
                size_hint: 1, .1
                pos: root.width*0, root.height*0.2
                background_color: 51/255,153/255,255/255,
            MDRectangleFlatButton:
                on_press: app.homeScreen()
                text: "Go Back"
                size_hint: 1, .1
                background_color: 51/255,153/255,255/255,

    MDScreen:
        name: 'friendRequests'
        MDBoxLayout:
            orientation: 'vertical'
            MDRectangleFlatButton:
                size_hint: 1, .1
                text: 'Show Requests From Other Users'
                on_press: app.showRequests()

            ScrollView:
                size_hint: 1, .8
                MDBoxLayout:
                    orientation: 'vertical'
                    id: requests
                    height: self.minimum_height

            MDTextField:
                id: acceptFriendRequest
                hint_text: "Enter the requester's email to accept"
                help_text_mode: "on_focus"
                size_hint: 1, .1
                mode: "rectangle"
                width: 300
                halign: 'center'
                valign: 'center'
            MDRectangleFlatButton:
                on_press: app.add('acceptFriendRequest')
                text: 'Add Friend'
                size_hint: 1, .1
                pos: root.width*0, root.height*0.2
                background_color: 51/255,153/255,255/255,
            MDRectangleFlatButton:
                on_press: app.homeScreen()
                text: "Go Back"
                size_hint: 1, .1
                background_color: 51/255,153/255,255/255,
    MDScreen:
        name: 'removeFriend'
        MDBoxLayout:
            orientation: 'vertical'
            MDRectangleFlatButton:
                size_hint: 1, .1
                text: 'Show Friends'
                on_press: app.showRemoveList()

            ScrollView:
                size_hint: 1, .8
                MDBoxLayout:
                    orientation: 'vertical'
                    id: removeList
                    height: self.minimum_height

            MDTextField:
                id: removeFriendInput
                hint_text: "Enter the friend's email to unadd"
                help_text_mode: "on_focus"
                size_hint: 1, .1
                mode: "rectangle"
                width: 300
                halign: 'center'
                valign: 'center'
            MDRectangleFlatButton:
                on_press: app.remove('removeFriendInput')
                text: 'Remove Friend'
                size_hint: 1, .1
                pos: root.width*0, root.height*0.2
                background_color: 51/255,153/255,255/255,
            MDRectangleFlatButton:
                on_press: app.homeScreen()
                text: "Go Back"
                size_hint: 1, .1
                background_color: 51/255,153/255,255/255,

    MDScreen:
        name: 'camera'
        orientation: 'vertical'
        MDBoxLayout:
            orientation: 'vertical'
            MDCard:
                size_hint: 1, .1
                md_bg_color: 0, 1, 1, 1
            Camera:
                id: camera
                resolution: (720, 720)
                play: False
            ToggleButton:
                text: 'Play'
                on_press: camera.play = not camera.play
                size_hint_y: None
                height: '110dp'
            Button:
                text: 'Capture'
                size_hint_y: None
                height: '110dp'
                on_press: app.capture()
            MDRectangleFlatButton:
                on_press: app.homeScreenCamera()
                text: "Go Back"
                size_hint: 1, .1
    MDScreen:
        name: 'Chatroom'
        MDBoxLayout:
            spacing: '5dp'
            orientation: 'vertical'
            MDRectangleFlatButton:
                id: chatHistoryButton
                text: 'Show Chat History'
                on_press: app.get_hist("Chat", "public")
                size_hint: 1,.05
                background_color: 51/255,153/255,255/255,
            ScrollView:
                size_hint: 1, .75
                scroll_y: 0
                MDLabel:
                    id: ChatList
                    text: ""
                    size_hint_y: None
                    size: self.texture_size
                    halign: 'left'
            MDTextField:
                id: ChatroomMessageText
                hint_text: "Enter message"
                help_text_mode: "on_focus"
                size_hint: 1,.12
                width: 300
                mode: "rectangle"
            MDRectangleFlatButton:
                id: sendMessageButton
                text: 'Send message'
                halign: 'center'
                on_press:
                size_hint: 1,.1
                background_color: 51/255,153/255,255/255,
            MDRectangleFlatButton:
                on_press: app.homeScreenCamera()
                text: "Go Back"
                size_hint: 1, .1



